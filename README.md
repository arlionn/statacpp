statacpp
========

A Stata command to combine data with C++ code, compile and run it, and return the output into Stata.

At present, there is no help file, and it is not on SSC for download, but you can copy the .ado file into your local Stata ado folder.

statacpp is built out of StataStan, which works fine in Windows. statacpp should work there too, but I don't test it. Windows is fundamentally different to Linux/ Mac in how it interacts with Stata, which complicates things. This is a Windows issue, not a Stata one.

Syntax:
-------
statacpp [varlist, options]

Options:
--------
codefile(filename): either where to find your .cpp file, or where to store the code that is inside the do-file
thisfile(filename): as for StataStan
inline(filename): as for StataStan, scans the do-file for a comment block beginning
  /*
  C++
standard (string): one of 98, 03, 11, 14, gnu98, gnu11 or gnu14; specifies the C++ standard to pass to the compiler. Default is 11. In fact, as it stands, statacpp NEEDS 11 (sorry, I might free this up, I might not. If you want to do that yourself, it's the use of std::vector that pushed me that way. You could swap to arrays but it would just be a pain. I'm also very fond of to_string().)
outputfile(filename): the do-file that will be generated by your compiled program; this is then done by Stata to get the returned results back into memory
winlogfile: as for StataStan (Windows only)
skipmissing: as for StataStan, a rather scary option that treats each variable as a vector, discarding any empty cells, so that they can have different lengths. Proceed with caution.
matrices(string): a list of the names of Stata matrices that you want to pass into C++. These are treated as arrays of type double.
globals(string): a list of the names of Stata global macros that you want to pass into C++. These are assumed to have type double in C++ so if you try to pass a string it will break. I'll think about that later though, because it could be useful.
keepfiles: normally, we delete the interim files that clutter up your computer, but if you want to look at them afterwards, include this option.

Other notes
-----------
Support for parallel chains and makefile is work in progress for version 0.2.

Like StataStan, if you use the infile option, you can only read in the first code block that matches the required opening lines. That is on the to-do list for StataStan and will feed across to statacpp when it's done.
